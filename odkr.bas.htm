<html><head><meta charset="utf-8"/>
<style>@font-face {
  font-family: 'atari_classicchunky';
  src: url(data:application/font-woff2;charset=utf-8;base64,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) format('woff2');
  font-weight: normal;
  font-style: normal;
}
body {
  font-family: 'atari_classicchunky';
  white-space: pre-wrap;
}
</style></head>
5 PMBASE=$B8:PM256=PMBASE*256
8 DL=PM256+283:REM FOR I=%0 TO 103:POKE $0600+I,PEEK(DPEEK(560)+I):NEXT I:DPOKE $0600+102,DL
12 DEG :CMCPROC=$0658
15 REM OPEN #1,4,%0,"D:ODKR.FNT":BGET #1,PM256+1024,1024:CLOSE #1:POKE 756,PMBASE+4
20 PMPOCHW=PM256+160:PMWALKA=PMPOCHW+21
21 PMWAGA=PMWALKA+21:PMNOSN=PMWAGA+21:PMSZYBK=PMNOSN+21:PMTEREN=PMSZYBK+21:PMPL=PM256+100
100 DIM RESULT$(20),PARAM1$(80),TXT$(20),KEY$(%1),PL(4):FIF=50:HUN=-100
150 REM FOR PTR=PM256+416 TO PM256+463:POKE PTR,128:NEXT PTR
225 REM OPEN #1,4,%0,"D:CONST.OBJ":BGET #1,PMPOCHW,123:CLOSE #1:REM BGET #1,1536,78
226 REM BLOAD "D:MACH.OBJ"
240 POKE 705,197:POKE 704,51:POKE 53257,%3:POKE 53256,%3
250 REM DATA 170,170,170,170,0,0,0,0,170,170,170,170,0,0,0,0,170,170,170,170
260 REM PTR=PM256+696
270 REM FOR I=%1 TO 20:READ J:POKE PTR,J:PTR=PTR+%1:NEXT I
1001 EXEC GAME:END 
1100 ------------------------------
1200 PROC INITGAME
1210   J=PM256+%1:K=%0:FOR I=%1 TO 7
1215     POKE J,I:J=J+%1
1220     POKE J,%1:J=J+%1
1225     POKE J,5:J=J+%1
1226     K=K+%1
1230   NEXT I
1235   DATA 8,8,9,9,10,10,11,11,12,12,13,13,15,15,16,16,17,17,18,19,19,20,21,21,21,-1
1240   RESTORE 1235:READ I:WHILE I&#x3c;&#x3e;-1
1245     POKE J,I:J=J+%1
1250     POKE J,%1:J=J+%1
1255     POKE J,%2:J=J+%1
1260     K=K+%1:READ I
1265   WEND 
1266   DEL 29000,32000:POKE PM256,K:PLPKT=%0:DIM OBJ(K):EXEC INITPLANETS:STIME=%1:GWX=%1:GWY=%1
1268   PARAM1$="D:SPACE.LST":PARAM1=%0:EXEC ENTERLST
1270 ENDPROC 
1300 ------------------------------
1301 PROC GETNAME
1302   DATA Dow&#xe01b;&#xe07f;dca,Lekarz,Nawigator,In&#xe01b;&#xe01c;ynier,Zwiadowca,Naukowiec,&#xe01a;o&#xe01b;&#xe01d;nierz,Specbot,Rekonbot,Transbot,Repbot
1303   DATA Laser,Paralizer,Og&#xe01b;&#xe01d;uszacz,Narz&#xe005;dzia,Apteczka,Detektor,Holaparat,Wspinacz,Neurodetektor,Klatka-E
1304   IF PARAM1&#x3c;12:RESTORE 1302:POKE 182,PARAM1-%1:ELSE 
1305     RESTORE 1303:POKE 182,PARAM1-12:ENDIF 
1306   READ RESULT$
1307 ENDPROC 
1309 ------------------------------
1310 PROC CHAT
1311   DATA &#xe0cd;&#xe0d4;&#xe0cb;,&#xe0c4;&#xe0cf;&#xe0d7;,&#xe0cc;&#xe0c5;&#xe0cb;,&#xe0ce;&#xe0c1;&#xe0d7;,&#xe0c9;&#xe0ce;&#xe09a;,&#xe0da;&#xe0d7;&#xe0c9;,&#xe0ce;&#xe0c1;&#xe0d5;,&#xe09a;&#xe0cf;&#xe08c;,&#xe0d3;&#xe0d0;&#xe0c3;,&#xe0d2;&#xe0c5;&#xe0cb;,&#xe0d4;&#xe0d2;&#xe0c1;,&#xe0d2;&#xe0c5;&#xe0d0;,&#xe0cb;&#xe0cf;&#xe0cf;,&#xe0c9;&#xe0ce;&#xe0ce;
1312   POKE 752,%0:IF PARAM1=HUN THEN PARAM1=PEEK(OBJ(RAND(HUM)+%1))
1313   IF PARAM1&#x3c;%0 THEN PARAM1=PEEK(OBJ(-PARAM1))
1315   RESTORE 1311:POKE 182,PARAM1:READ RESULT$:? "&#xe09c;";
1318   POKE 657,%0:? RESULT$;"  ";:POKE 82,5:EXEC PRINTSLOW:POKE 82,%0:POKE 752,%1
1319   EXEC SNDROGER
1320 ENDPROC 
1330 ------------------------------
1331 PROC PRINTSLOW
1332   FOR I=%1 TO LEN(PARAM1$):? PARAM1$(I,I);:EXEC SNDPIK:NEXT I:ENDPROC 
1340 ------------------------------
1341 PROC INITPMG
1342   POKE 623,%1:POKE 53277,%3:POKE 559,42:POKE 54279,PMBASE:I=USR(1536):POKE $06E7,%1
1350 ENDPROC 
1360 ------------------------------
1361 PROC OFFPMG
1362   MOVE 224*256,$D000,8:POKE $06E7,%0:ENDPROC 
1400 ------------------------------
1401 PROC MISSPROTTAB
1405   EXEC OFFPMG:POKE 710,%0:POKE 82,%0:POSITION 12,%0:? "Protok&#xe01b;&#xe07f;&#xe01b;&#xe01d; misji";
1409   POSITION %0,%1:? "+";:FOR I=%1 TO 19:? "-";:NEXT I
1410   ? "+";:FOR I=%1 TO 18:? "-";:NEXT I:? "+"
1415   FOR I=%2 TO 19:POSITION %0,I:? "!";:POSITION 20,I:? "!";:POSITION 39,I:? "!";:NEXT I
1416   POSITION %0,20:? "+";:FOR I=%1 TO 19:? "-";:NEXT I
1417   ? "+";:FOR I=%1 TO 18:? "-";:NEXT I:? "+"
1420   RESTORE 1421:POKE 182,LOK-%1+(LOK=%0)
1421   DATA &#xe0c7;&#xe0f7;&#xe0e9;&#xe0e1;&#xe0fa;&#xe0e4;&#xe0ef;&#xe0ec;&#xe0ef;&#xe0f4;,&#xe0d0;&#xe0f2;&#xe0ef;&#xe0ed;,&#xe0c5;&#xe0eb;&#xe0f3;&#xe0f0;&#xe0e5;&#xe0e4;&#xe0f9;&#xe0e3;&#xe0ea;&#xe0e1;,&#xe0d0;&#xe0ef;&#xe0f2;&#xe0fa;&#xe0f5;&#xe01b;&#xe09f;
1425   READ RESULT$:POSITION %1,%1:? RESULT$:POSITION 21,%1:READ RESULT$:? RESULT$
1427   POSITION %0,21:? "&#xe07c;-Wyb&#xe01b;&#xe07f;r &#xe01b;&#xe07e;-Zmie&#xe00d; &#xe0d2;&#xe0c5;&#xe0d4;-OK":POKE 766,%0
1430 ENDPROC 
1450 ------------------------------
1451 PROC GETNOSN
1452   DATA 120,100,80,60,30
1454   IF ID=%0:RESTORE 1452:POKE 182,PEEK(PMPL+5)-%1:READ RESULT
1455   ELSE :PTR=OBJ(ID):TYPE=PEEK(PTR)
1457     RESULT=PEEK(PMNOSN-%1+TYPE)
1460     ON PEEK(PMPL+5) GOSUB 1461,1462,1463,1464,1465:GO# ENDGETNOSN
1461     RESULT=RESULT*%2:RETURN 
1462     RESULT=(RESULT+%2)*(RESULT&#x3e;%0):RETURN 
1463     RETURN 
1464     RESULT=RESULT-%2:RETURN 
1465     RESULT=RESULT DIV %2:RETURN 
1469     # ENDGETNOSN:IF TYPE&#x3c;8:IF PEEK(PMPL+5)=%2 THEN RESULT=RESULT-%1
1470       RESULT=RESULT-5+PEEK(PTR+%2):ENDIF 
1472     IF TYPE&#x3e;7 AND PEEK(PTR+%2)&#x3c;%2 THEN RESULT=%0
1475   ENDIF :IF RESULT&#x3c;%0 THEN RESULT=%0
1476 ENDPROC 
1480 ------------------------------
1481 PROC GETNOSNTOT
1482   IF LOK=%1:ID=%0:EXEC GETNOSN:ELSE 
1485     RES=%0:FOR ID=%1 TO OBJCNT
1488       PTR=OBJ(ID):IF PEEK(PTR+%1)=LOK+%1-(LOK=%3):EXEC GETNOSN:RES=RES+RESULT:ENDIF 
1490     NEXT ID:RESULT=RES
1492   ENDIF 
1493   NT=RESULT
1495 ENDPROC 
1600 ------------------------------
1601 PROC BUILDOBJ
1605   OBJCNT=%0:PTR=PM256+%1:FOR I=%1 TO PEEK(PM256)
1610     IF (PEEK(PTR+%1)=LOK OR PEEK(PTR+%1)=LOK+%1) AND PEEK(PTR+%2)
1612       OBJCNT=OBJCNT+%1:OBJ(OBJCNT)=PTR:ENDIF 
1613     PTR=PTR+%3
1615   NEXT I
1620 ENDPROC 
1630 ------------------------------
1631 PROC GETWAGA
1633   IF ID
1634     PTR=OBJ(ID):TYPE=PEEK(PTR)
1635     IF LOK=%1:RESULT=PEEK(PMWAGA+TYPE-%1)
1636       IF TYPE&#x3c;8:IF ATM=%1 OR ATM=4 THEN RESULT=RESULT+%2
1637         IF ATM=5:RESULT=RESULT+9:ENDIF :ENDIF 
1638     ELSE :EXEC GETNOSN:IF RESULT:RESULT=%0:ELSE :RESULT=PEEK(PMWAGA+TYPE-%1):ENDIF 
1640     ENDIF 
1644   ELSE 
1646     IF LOK=%1:RESULT=ZASPROM:ELSE :RESULT=ZASEKS:ENDIF 
1648   ENDIF 
1649 ENDPROC 
1650 ------------------------------
1651 PROC GETWAGATOT
1655   RES=%0:FOR ID=%1 TO OBJCNT:PTR=OBJ(ID):IF PEEK(PTR+%1)=LOK+%1-(LOK=%3)
1657       EXEC GETWAGA:RES=RES+RESULT
1660     ENDIF :NEXT ID
1661   ON LOK-(LOK=%3) GOSUB 1662,1663:WT=RESULT:ENDPROC 
1662 RESULT=RES+ZASPROM:RETURN 
1663 RESULT=RES+ZASEKS:RETURN 
1670 ------------------------------
1671 PROC PRINTPROTSTAT
1672   IF NOT ZAS:EXEC GETNOSNTOT:EXEC GETWAGATOT:EXEC CALCHUM:ENDIF 
1675   POSITION %2,22:? "No^no^&#xe01b;&#xe01f;: ";NT;"  ";"Waga: ";:OK=NT
1680   ? WT;"   ";:OK=(OK&#x3e;=WT):IF OK:? " ";:ELSE :? "&#xe0a1;";:ENDIF 
1683   OK=OK AND HUM
1684   IF HUM:? " ";:ELSE :? "&#xe0c3;";:ENDIF :? "  ";
1685 ENDPROC 
1690 ------------------------------
1691 PROC MISSPROT
1693   EXEC OFFPMG:GRAPHICS %0:POKE 752,%1:POKE 710,%0:POKE 709,10:POKE 712,10:POKE 756,PMBASE+4
1695   EXEC BUILDOBJ:F=%0:EXEC MISSPROTTAB:EXEC PRINTPROTSTAT:CRS=%1:EXEC PRINTCSR
1697   POSITION %0,23:? "POCHW:-- WLK:-- WAGA:-- NO$N:-- SZBK:--";:EXEC PROTDET
1700   EXEC PRINTPROTROWS
1705   REPEAT 
1710     REPEAT :KEY$=INKEY$:UNTIL KEY$&#x3c;&#x3e;""
1712     R=CRS:ZAS=%0
1715     IF KEY$="-"
1717       IF CRS&#x3e;%1 THEN EXEC CLRCSR:CRS=CRS-%1:EXEC PRINTCSR
1720       IF CRS=%1 AND F&#x3e;%0 THEN F=F-%1:EXEC PROTSCROLLDOWN
1721       EXEC PROTDET
1722     ENDIF 
1725     IF KEY$="="
1730       IF CRS&#x3c;18 AND CRS&#x3c;OBJCNT+%1 THEN EXEC CLRCSR:CRS=CRS+%1:EXEC PRINTCSR
1735       IF CRS=18 AND F&#x3c;OBJCNT-17 THEN F=F+%1:EXEC PROTSCROLLUP
1736       EXEC PROTDET
1737     ENDIF 
1740     IF KEY$="+" OR KEY$="*"
1745       ID=F+CRS-%1:IF ID
1750         PTR=OBJ(ID):L=PEEK(PTR+%1):POKE PTR+%1,L+(L=LOK)-(L=LOK+%1)
1755         R=CRS:EXEC PRINTPROTROW
1757       ELSE 
1760         IF KEY$="*"
1763           IF LOK=%1:ZASPROM=ZASPROM+%1:EXEC PRINTPROTROW:ZAS=%1:WT=WT+%1:ENDIF 
1766           IF LOK=%2 AND ZASPROM&#x3e;%0:ZASPROM=ZASPROM-%1:ZASEKS=ZASEKS+%1:EXEC PRINTPROTROW:ZAS=%1:WT=WT+%1:ENDIF 
1770           IF LOK=%3 AND ZASEKS&#x3e;%0:ZASEKS=ZASEKS-%1:ZASPORZ=ZASPORZ+%1:EXEC PRINTPROTROW:ZAS=%1:WT=WT-%1:ENDIF 
1775         ELSE 
1780           IF LOK=%1 AND ZASPROM&#x3e;%0:ZASPROM=ZASPROM-%1:EXEC PRINTPROTROW:ZAS=%1:WT=WT-%1:ENDIF 
1782           IF LOK=%2 AND ZASEKS&#x3e;%0:ZASPROM=ZASPROM+%1:ZASEKS=ZASEKS-%1:EXEC PRINTPROTROW:ZAS=%1:WT=WT-%1:ENDIF 
1785           IF LOK=%3 AND ZASPORZ&#x3e;%0:ZASEKS=ZASEKS+%1:ZASPORZ=ZASPORZ-%1:EXEC PRINTPROTROW:ZAS=%1:WT=WT+%1:ENDIF 
1790         ENDIF 
1792         EXEC PROTDET
1795       ENDIF 
1798       EXEC PRINTPROTSTAT:ZAS=%0
1800     ENDIF 
1890   UNTIL KEY$=CHR$(155) AND (OK OR (LOK=%3))
1895 ENDPROC 
1900 ------------------------------
1901 PROC PRINTPROTROW
1905   ID=R+F-%1:POSITION %2,%1+R:IF ID&#x3e;OBJCNT THEN ENDPROC 
1910 IF ID
1920   IF PEEK(OBJ(ID)+%1)=LOK:EXEC PRINTEMPTYCOL:POSITION %2,%1+R:EXEC PRINTPROTCOL
1922   ELSE 
1925     EXEC PRINTEMPTYCOL:POSITION 21,%1+R:EXEC PRINTPROTCOL
1927   ENDIF 
1931 ELSE 
1935   EXEC PRINTEMPTYCOL:POSITION %2,%2:? "Zasoby: ";:ON LOK GOSUB 1940,1945,1950:ENDIF :ENDPROC 
1940 ? "&#xe07f;&#xe01e;niesk.";:POSITION 21,%2:? "Zasoby: ";ZASPROM;"  ";:RETURN 
1945 ? ZASPROM;"  ";:POSITION 21,%2:? "Zasoby: ";ZASEKS;"  ";:RETURN 
1950 ? ZASEKS;"  ";:POSITION 21,%2:? "Zasoby: ";ZASPORZ;"  ";:RETURN 
1960 ------------------------------
1965 PROC PRINTEMPTYCOL
1971   PARAM1$="                  ":? PARAM1$;"&#xe01f;";PARAM1$
1975 ENDPROC 
1980 ------------------------------
1985 PROC PRINTPROTCOL
1990   PTR=OBJ(ID):PARAM1=PEEK(PTR):EXEC GETNAME:? RESULT$;:IF PARAM1&#x3c;8
2000     DPOKE 85,11+(DPEEK(85)&#x3e;20)*19
2001     IF PEEK(PMPL+6)=5:? "&#xe010;";:ELSE :? "&#xe01f;";:ENDIF :? "&#xe004; &#xe000; ";PEEK(PTR+%2);"/5";
2005   ELSE 
2010     DPOKE 85,13+(DPEEK(85)&#x3e;20)*19
2011     IF PARAM1&#x3c;13 OR PARAM1=17:? "&#xe010;";:ELSE :? "&#xe01f;";:ENDIF 
2012     IF PEEK(PTR+%2)&#x3c;%2 THEN ? "uszk."
2015   ENDIF 
2020 ENDPROC 
2030 ------------------------------
2035 PROC PRINTCSR
2036   POSITION %1,CRS+%1:? "&#x3e;";
2037 ENDPROC 
2040 ------------------------------
2041 PROC CLRCSR
2043   POSITION %1,CRS+%1:? " ";
2045 ENDPROC 
2050 ------------------------------
2051 PROC PRINTPROTROWS
2055   FOR R=%1 TO 18:EXEC PRINTPROTROW
2057   NEXT R
2059 ENDPROC 
2070 ------------------------------
2071 PROC PROTSCROLLUP
2075   PTR=DPEEK(88)+82
2077   FOR R=%1 TO 17
2079     MOVE PTR+40,PTR,37:PTR=PTR+40
2081   NEXT R
2083   R=18:EXEC PRINTPROTROW
2085 ENDPROC 
2090 ------------------------------
2091 PROC PROTSCROLLDOWN
2095   PTR=DPEEK(88)+762
2097   FOR R=%1 TO 17
2099     MOVE PTR-40,PTR,37:PTR=PTR-40
2101   NEXT R
2103   R=%1:EXEC PRINTPROTROW
2105 ENDPROC 
2120 ------------------------------
2121 PROC PROTDET
2125   ID=CRS+F-%1:V=23:IF ID:PTR=OBJ(ID):TYPE=PEEK(PTR)
2127     POSITION 6,V:T=PEEK(PMPOCHW+TYPE-%1):IF T:? T;" ";:ELSE :? "--";:ENDIF 
2130     POSITION 13,V:EXEC GETWALKA:IF RESULT:? RESULT;" ";:ELSE :? "--";:ENDIF 
2135     POSITION 21,V:EXEC GETWAGA:? RESULT;" ";
2140     POSITION 29,V:EXEC GETNOSN:IF RESULT:? RESULT;" ";:ELSE :? "--";:ENDIF 
2145     POSITION 37,V:T=PEEK(PMSZYBK+TYPE-%1):IF T:? T;" ";:ELSE :? "--";:ENDIF 
2150   ELSE 
2153     POSITION 6,V:? "--";:POSITION 13,V:? "--";:POSITION 29,V:? "--";:POSITION 37,V:? "--";
2154     POSITION 21,V:EXEC GETWAGA:? RESULT;" ";
2155   ENDIF 
2156 ENDPROC 
2160 ------------------------------
2161 PROC GETWALKA
2165   PTR=OBJ(ID):TYPE=PEEK(PTR)
2167   RESULT=PEEK(PMWALKA+TYPE-%1)*((TYPE&#x3c;8) OR (PEEK(PTR+%2)=%2))
2168   IF TYPE&#x3c;9 AND ATM=5 THEN RESULT=4
2170 ENDPROC 
2180 ------------------------------
2190 PROC GETSZYBK
2195   PTR=OBJ(ID):TYPE=PEEK(PTR)
2198   RESULT=PEEK(PMSZYBK+TYPE-%1)*((TYPE&#x3c;8) OR (PEEK(PTR+%2)=%2))
2200   IF TYPE&#x3c;9:IF ATM=%1 OR ATM=4 THEN RESULT=RESULT-%1
2202     IF ATM=5 THEN RESULT=7
2204   ENDIF 
2209 ENDPROC 
2210 ------------------------------
2211 PROC PLSCREEN
2215   GRAPHICS 12:POKE 756,PMBASE+4:POKE 752,%1:I=PEEK(PMPL+%3):POKE 712,I:POKE 708,I:POKE 709,I:POKE 710,I
2217   POKE 706,PEEK(PMPL+4):POKE 707,PEEK(PMPL+4)
2220   EXEC HEXNET:EXEC DRAWMAP
2224   POSITION 29,5:? #6;"Czas:":POSITION 29,6:? #6;"kJ"
2226   POKE 708,PEEK(PMPL):POKE 709,PEEK(PMPL+%3):POKE 710,PEEK(PMPL+%1):POKE 711,PEEK(PMPL+%2)
2230   EXEC INITPMG:EXEC MAPSPRITES:EXEC PLTIME
2235 ENDPROC 
2250 ------------------------------
2251 PROC MAPSPRITES
2255   DATA 96,112,254,115,254,112,96
2260   FOR PTR=PM256+768 TO PM256+1024:POKE PTR,%0:NEXT PTR
2265   POKE 53251,66+(PROMX-%1)*12
2270   PTR=PM256+930+(PROMY-%1)*12:RESTORE 2255
2272   FOR I=%0 TO 6:READ J:POKE PTR+I,J:NEXT I
2275   DATA 102,102,204,238,69,170,169,0
2280   IF EKSY&#x3c;&#x3e;PROMY OR EKSX&#x3c;&#x3e;PROMX
2282     PTR=PM256+802+(EKSY-%1)*12:RESTORE 2275
2285     FOR I=%0 TO 7:READ J:POKE PTR+I,J:NEXT I
2287     POKE 53250,66+(EKSX-%1)*12
2290   ENDIF 
2295 ENDPROC 
2310 ------------------------------
2311 PROC PLTIME
2315   PARAM1$="000":IF MTIME THEN PARAM1$(%3-TRUNC(CLOG(MTIME)))=STR$(MTIME)
2330   POSITION 35,5:? #6;PARAM1$;"h"
2332   PARAM1$="     ":TXT$="-----":V=5*RTIME DIV ((6-PEEK(PMPL+5))*6)
2333   IF NOT V THEN V=%1
2334   PARAM1$(%1,V)=TXT$(%1,V)
2336   POSITION 32,6:? #6;"[";PARAM1$;"]"
2340 ENDPROC 
2350 ------------------------------
2351 PROC CALCTIME
2355   T=PARAM1-%1+(PARAM2-%1)*6:T=PEEK(PMPL+10+T+T):RES=%0:M=%1
2360   FOR I=PMTEREN TO PMTEREN+15 STEP %3
2363     IF T&#x26;M
2365       IF PARAM3&#x26;%1 THEN RES=RES+PEEK(I+%1)
2370       IF PARAM3&#x26;%2 THEN RES=RES+PEEK(I+%2)
2372     ENDIF 
2375     M=M+M
2380   NEXT I
2382   IF T&#x26;4:PARAM1=19:EXEC ISPRESENT:RES=RES-RESULT:ENDIF 
2383   RESULT=RES
2385 ENDPROC 
2400 ------------------------------
2401 PROC CALCHUM
2410   L=LOK+%1-(LOK=%3):HUM=%0:ROB=%0
2415   FOR I=%1 TO OBJCNT
2420     PTR=OBJ(I):IF PEEK(PTR)&#x3c;8 AND PEEK(PTR+%1)=L AND PEEK(PTR+%2) THEN HUM=HUM+%1
2422     IF PEEK(PTR)&#x3e;7 AND PEEK(PTR)&#x3c;12 AND PEEK(PTR+%1)=L AND PEEK(PTR+%2)=%2 THEN ROB=ROB+%1
2424   NEXT I
2426 ENDPROC 
2430 ------------------------------
2435 PROC RESCONT
2440   T=EKSX-%1+(EKSY-%1)*6:T=PEEK(PMPL+10+T+T):M=%1:RES=PEEK(PMPL+9):RESULT=%0:RTIME=%0
2445   R=RAND(6)+%1
2450   FOR I=%1 TO OBJCNT
2452     PTR=OBJ(I):TYPE=PEEK(PTR)
2455     IF TYPE&#x3c;8:RES=RES+%2
2457     ELSE 
2460       IF PEEK(PTR+%2)=%2 THEN RES=RES+((TYPE&#x3e;8 AND TYPE&#x3c;13) OR TYPE=17)
2465     ENDIF 
2467   NEXT I
2470   RES=RES DIV R
2475   FOR I=PMTEREN TO PMTEREN+15 STEP %3
2480     IF T&#x26;M
2485       RESULT=RESULT+PEEK(PMTEREN)
2488     ENDIF 
2490     M=M+M
2492   NEXT I
2495   RES=RES+RESULT DIV R
2500   IF RES&#x3c;=ZASEKS
2505     PARAM1$="W trakcie postoju za&#xe01b;&#xe01d;oga wykorzysta&#xe01b;&#xe01d;a zasoby. Pozosta&#xe01b;&#xe01d;e jednostki: "
2507     ZASEKS=ZASEKS-RES
2510     PARAM1$(LEN(PARAM1$)+%1)=STR$(ZASEKS):PARAM1=%0:? :EXEC CHAT
2520   ELSE 
2525     RES=RES-ZASEKS:ZASEKS=%0
2530     WHILE RES
2535       EXEC BUILDOBJ:EXEC CALCHUM:IF NOT HUM THEN RES=%0
2540       IF RES
2545         ID=RAND(HUM)+%1:PTR=OBJ(ID)+%2
2550         POKE PTR,PEEK(PTR)-%1
2555         PARAM1$="Pogorszenie stanu zdrowia: ":PARAM1=%0:? :EXEC CHAT
2560         EXEC STATE
2580         PAUSE FIF
2585         RES=RES-%1
2590       ENDIF 
2600       C=%0:FOR I=%1 TO OBJCNT
2605         PTR=OBJ(I):TYPE=PEEK(PTR)
2610         IF ((TYPE&#x3e;7 AND TYPE&#x3c;13) OR TYPE=17) AND PEEK(PTR+%2)=%2 THEN C=C+%1
2612       NEXT I
2613       IF RES AND C
2615         C=RAND(C)+%1
2620         FOR J=%1 TO OBJCNT
2625           PTR=OBJ(J):TYPE=PEEK(PTR)
2630           IF ((TYPE&#x3e;7 AND TYPE&#x3c;13) OR TYPE=17) AND PEEK(PTR+%2)=%2 AND C&#x3e;%0
2635             IF C&#x3e;%1:C=C-%1
2640             ELSE 
2645               PARAM1$="Urz&#xe07b;dzenie uszkodzone z powodu braku energii: "
2650               PARAM1=TYPE:EXEC GETNAME
2655               PARAM1$(LEN(PARAM1$)+%1)=RESULT$
2660               PARAM1=%0:? :EXEC CHAT:PAUSE FIF
2665               POKE PTR+%2,%1
2667               RES=RES-%1:C=%0
2670             ENDIF 
2675           ENDIF 
2677         NEXT J
2680       ENDIF 
2682     WEND 
2685   ENDIF 
2690 ENDPROC 
2750 ------------------------------
2760 PROC TIMEON
2763   IF NOT RTIME THEN RTIME=(6-PEEK(PMPL+5))*6
2765   V=PARAM1:FOR II=%1 TO V
2770     MTIME=MTIME+%1:RTIME=RTIME-%1:EXEC PLTIME:EXEC PLTIMEON
2775     IF NOT RTIME
2780       EXEC RESCONT:RTIME=(6-PEEK(PMPL+5))*6
2785     ENDIF 
2787     PAUSE FIF
2790   NEXT II
2810 ENDPROC 
2850 ------------------------------
2870 T=X-%1+(Y-%1)*6:T=PEEK(PMPL+10+T+T)
2875 RES=(X&#x3e;%0) AND (X&#x3c;7) AND (Y&#x3e;%0) AND (Y&#x3c;5) AND NOT (T&#x26;16):RETURN 
2880 PROC WHERETO
2882   BAD=%0:FRS=%0
2885   PARAM1=HUN:IF RAND(%2):PARAM1$="Dok&#xe07b;d teraz?"
2890   ELSE :PARAM1$="Do kt&#xe01b;&#xe07f;rego sektora?":ENDIF 
2895   EXEC CHAT:? " [N&#xe07c;S W&#xe01b;&#xe07e;E]"
2900   REPEAT 
2905     TXT$="ESWN":REPEAT :KEY$=INKEY$:K=UINSTR(TXT$,KEY$):UNTIL LEN(KEY$) AND K
2910     X=EKSX+SIN(K*90):Y=EKSY-COS(K*90):GOSUB 2870
2915   UNTIL RES
2920   EKSX=X:EKSY=Y:TXT$=HEX$((EKSX+9)*$10+EKSY)
2975   IF RAND(%2):PARAM1$="Wyruszacie do ":ELSE :PARAM1$="Teraz do ":ENDIF 
2980   PARAM1$(LEN(PARAM1$)+%1)=TXT$
2985   PARAM1=12:EXEC CHAT:? ".";
2990   PAUSE FIF+FIF:PARAM1=-1:? :IF RAND(%2):PARAM1$="Dobra, przyj&#xe07b;&#xe01b;&#xe01d;em."
3000   ELSE :PARAM1$="Zbieramy si&#xe005;.":ENDIF 
3005   EXEC CHAT
3013   T=EKSX-%1+(EKSY-%1)*6:T=PEEK(PMPL+11+T+T)
3015   ? :IF NOT T&#x26;1
3017     PARAM1=-1:IF RAND(%2):PARAM1$="Czy mamy zbada&#xe01b;&#xe01f; sektor?":ELSE :PARAM1$="Przeprowadzi&#xe01b;&#xe01f; badanie sektora?"
3019     ENDIF 
3020     EXEC SNDQ:PAUSE FIF:EXEC CHAT
3021     ? :? "&#x3e;&#xe0d4;ak/&#xe0ce;ie";
3023     REPEAT :KEY$=INKEY$:UNTIL LEN(KEY$) AND UINSTR("TN",KEY$)
3025     ? "&#xe09c;";:IF KEY$="T" OR KEY$="t":BAD=%1
3027       IF RAND(%2):PARAM1$="Tak, zbadajcie teren.":ELSE :PARAM1$="Tak, przeprowad&#xe01b;&#xe01e;cie badania.":ENDIF 
3029     ELSE :PARAM1$="Nie, nie potrzeba.":FRS=%1:ENDIF 
3030     PARAM1=12:EXEC CHAT
3031   ELSE :RESULT=%0
3033   ENDIF 
3039 ENDPROC 
3040 ------------------------------
3045 PROC ISPRESENT
3050   RESULT=%0:FOR I=%1 TO OBJCNT
3055     PPTR=OBJ(I):TYPE=PEEK(PPTR)
3060     IF PARAM1=TYPE
3065       IF PARAM1&#x3c;8:RESULT=%1
3070       ELSE 
3075         IF PEEK(PPTR+%2)=%2 THEN RESULT=%1
3080       ENDIF 
3085     ENDIF 
3090   NEXT I
3095 ENDPROC 
3110 ------------------------------
3115 PROC REVIEW
3120   TXT$=""
3125   FOR I=%1 TO OBJCNT
3130     PTR=OBJ(I):IF (PEEK(PTR)&#x3c;8 AND PEEK(PTR+%2)&#x3c;5) OR PEEK(PTR+%2)=%1 THEN TXT$(LEN(TXT$)+%1)=HEX$(I)
3132   NEXT I
3135   IF NOT LEN(TXT$) THEN PARAM1=-1:PARAM1$="Wszystko w porz&#xe07b;dku.":? :EXEC CHAT:GOTO 3340
3140   IF LEN(TXT$)=%2:C=%1
3145   ELSE 
3150     PARAM1=HUN:PARAM1$="Czym si&#xe005; zaj&#xe07b;&#xe01b;&#xe01f;?":EXEC CHAT:? :? TXT$;"=";LEN(TXT$);"=&#x3e;";
3155     FOR J=%1 TO LEN(TXT$)/%2
3160       ? CHR$(176+J);:ID=DEC(TXT$(J*%2-%1,J+J)):PARAM1=PEEK(OBJ(ID))
3170       EXEC GETNAME:? RESULT$;" ";
3175     NEXT J
3180     EXEC SNDQ:REPEAT :KEY$=INKEY$:UNTIL KEY$&#x3e;"0" AND KEY$&#x3c;=STR$(LEN(TXT$)/%2)
3185     C=VAL(KEY$)
3190   ENDIF 
3200   ? TXT$:ID=DEC(TXT$(C+C-%1,C+C)):PTR=OBJ(ID):TYPE=PEEK(PTR):? "PTR=";PTR;
3210   PARAM1$="Ile mamy czasu?":PARAM1=-100:EXEC CHAT
3215   ? :? "&#x3e;1-9";
3220   EXEC SNDQ:REPEAT :KEY$=INKEY$
3225   UNTIL KEY$&#x3e;"0" AND KEY$&#x3c;="9"
3230   T=VAL(KEY$)
3235   DATA na,ny,ny,ny,n,n,n,n,n
3240   ? "&#xe09c;";:PARAM1$=STR$(T):PARAM1$(%2)=" godzi"
3245   RESTORE 3235:POKE 182,T-%1:READ TXT$:PARAM1$(8)=TXT$
3250   PARAM1=12:EXEC CHAT
3255   PARAM1=-1:IF RAND(%2):PARAM1$="Przyj&#xe07b;&#xe01b;&#xe01d;em.":ELSE :PARAM1$="Dobra, do roboty.":ENDIF 
3260   ? :EXEC CHAT:? "PTR=";PTR
3265   PARAM1=T:EXEC TIMEON
3270   IF TYPE&#x3c;8
3275     IF TYPE&#x3c;&#x3e;%2:PARAM1=%2:EXEC ISPRESENT:IF RESULT THEN T=T+%3:ENDIF 
3280     PARAM1=16:EXEC ISPRESENT:IF RESULT THEN T=T+%3
3285   ELSE 
3290     PARAM1=4:EXEC ISPRESENT:IF RESULT THEN T=T+%3
3305     PARAM1=15:EXEC ISPRESENT:IF RESULT THEN T=T+%3
3310   ENDIF 
3315   IF RAND(9)&#x3c;T:PARAM1=HUN:PARAM1$="Zrobione!":PAUSE FIF:? 
3320     IF TYPE&#x3c;8:PARAM1=TYPE:PARAM1$="Ju&#xe01b;&#xe01c; czuj&#xe005; si&#xe005; lepiej.":EXEC CHAT:ENDIF 
3322     POKE PTR+%2,PEEK(PTR+%2)+%1:? "PTR=";PTR
3325   ELSE 
3330     PARAM1=HUN:PARAM1$="Niestety, zabrak&#xe01b;&#xe01d;o czasu.":EXEC CHAT
3335   ENDIF 
3340 ENDPROC 
3400 ------------------------------
3410 PROC PLREP
3420   EXEC OFFPMG:GRAPHICS %0:POKE 710,%0:POKE 709,10:POKE 712,10:POKE 756,PMBASE+4
3425   POSITION 32,%0:? "PAM:";FRE(%0)
3430   POSITION %0,%1:? "Planeta:    ";:EXEC PLNAME:PARAM1$=RESULT$:EXEC PRINTSLOW
3440   DATA Niemal zerowa,Niewielka,Ziemska,Du&#xe01b;&#xe01c;a,Wielka
3450   DATA Brak,Rozrzedzona,Normalna,Truj&#xe07b;ca,Kwasowa
3460   DATA Arktyczny,Umiarkowany,Tropikalny,Pustynny,brak
3470   ? :? "Grawitacja: ";:RESTORE 3440:POKE 182,PEEK(PMPL+5)-%1:READ PARAM1$:EXEC PRINTSLOW
3480   ? :? "Atmosfera:  ";:RESTORE 3450:POKE 182,PEEK(PMPL+6)-%1:READ PARAM1$:EXEC PRINTSLOW
3490   ? :? "Klimat:     ";:RESTORE 3460:POKE 182,PEEK(PMPL+7)-%1:READ PARAM1$:EXEC PRINTSLOW
3500   ? :? "Geologia:   ";
3510   IF PEEK(PMPL+8):PARAM1$="":ELSE :PARAM1$="nie":ENDIF 
3520   PARAM1$(LEN(PARAM1$)+%1)="aktywna":EXEC PRINTSLOW
3522   ? :? "Zasoby:     -";:? PEEK(PMPL+9)
3530   ? :? :EXEC PLANETDESC:? :? :? "&#x3e;Wybierz za&#xe01b;&#xe01d;og&#xe005; promu.";
3540   EXEC SNDQ:REPEAT :UNTIL LEN(INKEY$)
3550 ENDPROC 
3600 ------------------------------
3610 PROC HUM0
3620   EXEC BUILDOBJ:EXEC CALCHUM
3630   IF NOT HUM:REM CZY EKS
3640     PARAM1=%0:PARAM1$="Stracili^my kontakt z ekspedycj&#xe07b;.":? :EXEC CHAT:PAUSE FIF
3650     PARAM1=12:PARAM1$="Dziekuj&#xe005; matko.":? :EXEC CHAT:PAUSE FIF
3660     PARAM1$="Prom, zglo^ si&#xe005;!":EXEC CHAT
3670     LOK=%2:EXEC BUILDOBJ:LOK=%1:EXEC CALCHUM:? 
3680     IF HUM:REM CZY PROM?
3690       PARAM1=HUN:PARAM1$="Tu prom, potwierdzam - stracili^my ekspedycj&#xe005;!":? :EXEC CHAT
3700       IF EKSX&#x3c;&#x3e;PROMX OR EKSY&#x3c;&#x3e;PROMY
3710         ZASEKS=%0
3720         GOSUB 3900
3750       ENDIF 
3760       ? :PARAM1=12:PARAM1$="Dobra, zbierajcie sprz&#xe005;t.":EXEC CHAT
3770       ? "&#x3e;";:REPEAT :UNTIL LEN(INKEY$)
3780       EKSX=PROMX:EKSY=PROMY:LOK=%2:EXEC MISSPROT
3790       EXEC PLSCREEN
3800     ELSE :REM PROM PUSTY
3810       PARAM1=12:PARAM1$="Matko, wdr&#xe01b;&#xe07f;&#xe01b;&#xe01c; protok&#xe01b;&#xe07f;&#xe01b;&#xe01d; awaryjnego powrotu promu":? :EXEC CHAT:PAUSE FIF
3820       PARAM1=%0:PARAM1$="Przyj&#xe005;&#xe01b;&#xe01d;am, uruchamiam automatycznego pilota.":? :EXEC CHAT:OVER=%1
3830       GOSUB 3900
3860     ENDIF 
3870   ENDIF 
3880 ENDPROC 
3900 FOR I=PM256+%2 TO PM256-%1+PEEK(PM256)*%3 STEP %3
3910   IF PEEK(I)=%3 THEN POKE I,%0:POKE I+%1,%0
3920 NEXT I:RETURN 
3950 ------------------------------
3955 PROC STATE
3960   PTR=OBJ(ID):TYPE=PEEK(PTR)
3965   PARAM1=TYPE:EXEC GETNAME:PARAM1$=RESULT$
3970   PARAM1$(LEN(PARAM1$)+%1)=" - stan "
3975   IF TYPE&#x3c;8:PARAM1$(LEN(PARAM1$)+%1)="&#xe000; "
3980     PARAM1$(LEN(PARAM1$)+%1)=STR$(PEEK(PTR+%2)):PARAM1$(LEN(PARAM1$)+%1)="/5"
3985   ELSE 
3990     IF PEEK(PTR+%2)=%2:PARAM1$(LEN(PARAM1$)+%1)="dobry.":ELSE :PARAM1$(LEN(PARAM1$)+%1)="uszkodzony."
3995     ENDIF 
4000   ENDIF 
4005   PARAM1=%0:EXEC CHAT
4010 ENDPROC 
4020 ------------------------------
4025 PROC GETSLOW
4030   RES=255
4035   FOR I=%1 TO OBJCNT:PTR=OBJ(I):TYPE=PEEK(PTR)
4040     IF TYPE&#x3c;8 OR (TYPE&#x3e;7 AND TYPE&#x3c;12 AND PEEK(PTR+%2)=%2)
4045       IF PEEK(PMSZYBK+TYPE-%1)&#x3c;RES:RESULT=I:RES=PEEK(PMSZYBK+TYPE-%1):ENDIF 
4050     ENDIF 
4055   NEXT I
4060 ENDPROC 
5000 ------------------------------
5010 PROC PLANET
5020   EXEC INITPLANET:ATM=PEEK(PMPL+6):SOUND %1,%0,%0,%0:EXEC PLREP:MTIME=%0:RTIME=%0:EXEC SKAFIKO
5030   LOK=%1:EXEC MISSPROT:LOK=%2:EXEC BUILDOBJ:EXEC BEFORELAND
5040   EXEC PLSCREEN:PARAM1=HUN
5050   IF RAND(%2):PARAM1$="Procedura l&#xe07b;dowania zako&#xe00d;czona. Przygotujmy za&#xe01b;&#xe01d;og&#xe005;."
5060   ELSE :PARAM1$="Wyl&#xe07b;dowali^my. W drog&#xe005;.":ENDIF 
5070   EXEC CHAT:PAUSE FIF+FIF:? 
5080   PARAM1=12:PARAM1$="Teraz zbadajcie teren l&#xe07b;dowania.":EXEC CHAT:? :? "&#x3e;";
5085   EXEC SNDQ:REPEAT :UNTIL LEN(INKEY$)
5090   LOK=%2:EXEC MISSPROT:EXEC PLSCREEN
5100   LOK=%3:EXEC BUILDOBJ:PARAM1=EKSX:PARAM2=EKSY
5110   PARAM3=%2:EXEC CALCTIME:PARAM1=RESULT:EXEC TIMEON:EXEC FIRSTIMP:EXEC HUM0
5115   T=EKSX-%1+(EKSY-%1)*6:V=PEEK(PMPL+11+T+T):POKE PMPL+11+T+T,V!%1:OVER=%0:EXEC HUM0
5120   WHILE NOT OVER
5125     PARAM1$="&#x3e;&#xe0d0;rot/P&#xe0f2;zegl&#xe07b;d/&#xe0cd;arsz/&#xe00c;ad&#xe0ef;w."
5130     IF PROMX=EKSX AND PROMY=EKSY
5140       TXT$="PRGMO":PARAM1$(LEN(PARAM1$)+%1)="/&#xe0c7;wiazdolot"
5150     ELSE :TXT$="PRMO"
5160     ENDIF 
5165     ? :POKE 657,%0:? PARAM1$;
5170     EXEC SNDQ:REPEAT :KEY$=INKEY$:UNTIL LEN(KEY$) AND UINSTR(TXT$,KEY$)
5180     IF KEY$="P" OR KEY$="p"
5190       IF PROMX=EKSX AND PROMY=EKSY
5200         LOK=%2:EXEC MISSPROT:LOK=%3
5210         EXEC PLSCREEN
5230       ELSE 
5240         EXEC MISSPROT:EXEC PLSCREEN
5250       ENDIF 
5260     ENDIF 
5270     IF KEY$="O" OR KEY$="o"
5280       EXEC RESCONT:EXEC PLTIME
5290     ENDIF 
5300     IF KEY$="R" OR KEY$="r"
5310       EXEC REVIEW:EXEC PLTIME
5320     ENDIF 
5330     IF KEY$="M" OR KEY$="m"
5340       EXEC GETWAGATOT:W=RESULT
5350       EXEC GETNOSNTOT:V=RESULT
5360       IF W&#x3e;V
5370         PARAM1=HUN:PARAM1$="Jeste^my przeci&#xe07b;&#xe01b;&#xe01c;eni.":? :EXEC CHAT
5380       ELSE 
5390         EXEC WHERETO:PARAM1=EKSX:PARAM2=EKSY:PARAM3=%1+BAD+BAD:EXEC CALCTIME:T=RESULT
5400         EXEC MAPSPRITES:PARAM1=T:EXEC TIMEON
5410         T=EKSX-%1+(EKSY-%1)*6:V=PEEK(PMPL+11+T+T):RESULT=%1:POKE PMPL+11+T+T,V!BAD
5420         IF V&#x26;254:PARAM1=V:EXEC PLEVENT
5440         ENDIF 
5442         IF HUM AND RESULT AND (FRS OR BAD) THEN EXEC EVENT
5445       ENDIF 
5450     ENDIF 
5460     IF KEY$="G" OR KEY$="g"
5470       IF RAND(%2):PARAM1$="Dobra, zbierajcie sprz&#xe005;t i wracajcie do gwiazdolotu."
5480       ELSE :PARAM1$="Misja zako&#xe00d;czona, mo&#xe01b;&#xe01c;ecie wraca&#xe01b;&#xe01f;."
5490       ENDIF 
5500       PARAM1=12:EXEC CHAT:PAUSE FIF
5510       IF RAND(%2):PARAM1$="Dziekuj&#xe005;, pakujemy si&#xe005;."
5520       ELSE :PARAM1$="Tak jest, zbieramy sprz&#xe005;t"
5530       ENDIF 
5540       PAUSE FIF:PARAM1=-1:EXEC CHAT
5550       OVER=%1:PAUSE FIF+FIF:EXEC LASTIMP
5560     ENDIF 
5565     EXEC HUM0
5570   WEND 
5580 ENDPROC 
5700 ------------------------------
5701 PROC INITPLANETS
5705   PARAM1$="D:PLANETY.LST":PARAM1=HUN:EXEC ENTERLST
5706   RESTORE 28900:READ PLCNT
5710   DIM PLANETS(PLCNT,%3)
5800   READ OBJCNT:FOR I=%1 TO OBJCNT:OBJ(I)=I:NEXT I
5805   FOR I=%1 TO OBJCNT*OBJCNT
5810     V=RAND(OBJCNT)+%1:W=RAND(OBJCNT)+%1:T=OBJ(V):OBJ(V)=OBJ(W):OBJ(W)=T
5815   NEXT I
5820   FOR I=%1 TO PLCNT:PLANETS(I,%1)=OBJ(I)
5825     PLANETS(I,%2)=I*%2-RAND(%2)
5830     PLANETS(I,%3)=%1+RAND(4):IF PLANETS(I,%2)=%1 AND PLANETS(I,%3)=%1 THEN PLANETS(I,%2)=%2
5835   NEXT I
5850 ENDPROC 
6600 ------------------------------
6605 PROC SNDPIK
6611   II=USR(CMCPROC,5+RAND(24),10,$22):PAUSE %2
6615 ENDPROC 
6630 ------------------------------
6635 PROC SNDQ
6640   II=USR(CMCPROC,27,%0,$22):PAUSE 10:II=USR(CMCPROC,34,%0,$22):PAUSE FIF
6650 ENDPROC 
6670 ------------------------------
6675 PROC SNDA
6680   II=USR(CMCPROC,34,%0,$22):PAUSE 10:II=USR(CMCPROC,27,%0,$22):PAUSE FIF
6690 ENDPROC 
6700 ------------------------------
6705 PROC SNDROGER
6720 ENDPROC 
6730 ------------------------------
6735 PROC SNDGSTART
6741   II=USR(CMCPROC,8,7,$22):PAUSE FIF+FIF:II=USR(CMCPROC,20,8,$22)
6745 ENDPROC 
6760 ------------------------------
6765 PROC SNDGEND
6771   II=USR(CMCPROC,20,9,$22):PAUSE FIF+FIF
6775 ENDPROC 
6900 ------------------------------
6905 PROC DEALDAM
6910   IF PEEK(PTR+%2)&#x3c;PARAM1:POKE PTR+%2,%0:ELSE :POKE PTR+%2,PEEK(PTR+%2)-PARAM1:ENDIF 
6915 ENDPROC 
10000 ------------------------------
10001 PROC GAME
10005   I=USR($0664):I=USR(CMCPROC,$C2,$AF,$70):MIS=%0
10010   EXEC INITGAME:EXEC STARSCREEN
10100   REPEAT 
10120     PARAM1=%0:PARAM1$="Wybierz czynno^&#xe01b;&#xe01f;.":? :EXEC CHAT
10130     ? :? "&#x3e;&#xe0cb;urs/&#xe0c3;zekaj/&#xe0d2;aport";
10140     CURPL=%0
10150     FOR I=%1 TO PLCNT
10160       IF GWX=PLANETS(I,%2) AND GWY=PLANETS(I,%3) AND PLANETS(I,%1)&#x3e;%0 THEN CURPL=I
10170     NEXT I
10180     IF CURPL:TXT$="KCRE":? "/&#xe0c5;ksploracja";:ELSE :TXT$="KCR":ENDIF 
10183     IF GWX*GWY=%1:? "/Kosmo&#xe0e4;rom";:TXT$(LEN(TXT$)+%1)="D":ENDIF 
10190     EXEC SNDQ:REPEAT :KEY$=INKEY$:UNTIL UINSTR(TXT$,KEY$) AND LEN(KEY$)
10200     IF KEY$="K" OR KEY$="k"
10210       IF GWX*GWY&#x3e;%1:TXT$="A1":ELSE :TXT$="":ENDIF 
10220       FOR I=%1 TO PLCNT:IF (PLANETS(I,%2)&#x3c;&#x3e;GWX OR PLANETS(I,%3)&#x3c;&#x3e;GWY) AND PLANETS(I,%1)&#x3e;%0
10230           TXT$(LEN(TXT$)+%1)=HEX$(PLANETS(I,%3)+16*(9+PLANETS(I,%2)))
10235         ENDIF 
10240       NEXT I:? "&#xe09c;&#x3e;";
10245       FOR I=%1 TO LEN(TXT$) DIV %2
10250         ? I;"-";TXT$(I+I-%1,I+I);" ";
10260       NEXT I
10270       EXEC SNDQ:REPEAT :KEY$=INKEY$:UNTIL KEY$&#x3e;"0" AND KEY$&#x3c;=STR$(LEN(TXT$) DIV %2) AND LEN(KEY$)
10280       V=VAL(KEY$):TXT$=TXT$(V+V-%1,V+V):X=DEC(TXT$(%1,%1))-9:Y=VAL(TXT$(%2,%2))
10282       PARAM1$="Astrokompas skalibrowany. Nukleonika pe&#xe01b;&#xe01d;na moc.":PARAM1=12:EXEC CHAT:PAUSE FIF
10283       PARAM1$="Ruszamy do sektora gwiezdnego ":? :EXEC CHAT:? TXT$;".";
10285       EXEC SNDGSTART
10290       PARAM1=SQR((X-GWX)^%2+(Y-GWY)^%2):EXEC STIMEON:GWX=X:GWY=Y:EXEC STARSPRITES
10295       EXEC SNDGEND
10300       KEY$="":ENDIF 
10310     IF KEY$="C" OR KEY$="c"
10320       PARAM1=%0:PARAM1$="Utrzymuje gwiazdolot na orbicie przez miesi&#xe07b;c."
10330       EXEC CHAT
10340       PARAM1=%1:EXEC STIMEON:PAUSE FIF:? :KEY$=""
10350     ENDIF 
10400     IF KEY$="R" OR KEY$="r"
10410       EXEC STREP:EXEC STARSCREEN
10420       KEY$=""
10430     ENDIF 
10450     IF KEY$="E" OR KEY$="e"
10460       EXEC BUILDOBJ:PLPKT=%0
10480       PARAM1$="Skanowanie obszaru planety.":PARAM1=%0:EXEC CHAT:DEL 29000,29999
10700       RESTORE 28900+PLANETS(CURPL,%1)
10710       POKE 182,4:READ TXT$:? TXT$
10730       PARAM1$=TXT$:MIS=MIS+%1:PARAM1=(MIS MOD %2)+%1:EXEC ENTERLST
10910       ZASPROM=%0:ZASEKS=%0:EXEC PLANET:DEL 30000,32767
10915       PARAM1$="D:SPACE.LST":PARAM1=%0:EXEC ENTERLST
10920       PTR=PM256+%1:FOR I=%1 TO PEEK(PM256)
10930         IF PEEK(PTR+%2)=%0 THEN POKE PTR+%1,%0
10940         V=PEEK(PTR+%1)
10950         IF V=%2 OR V=%3 THEN POKE PTR+%1,%1
10955         PTR=PTR+%3
10960       NEXT I
10970       PKT=PKT+PLPKT:PLANETS(CURPL,%1)=-PLANETS(CURPL,%1):EXEC STARSCREEN
10980     ENDIF 
10990     IF KEY$="D" OR KEY$="d"
11000       EXEC STREP:PARAM1$="Witamy z powrotem na kosmodromie":EXEC PRINTSLOW
11010       ? :PARAM1$="Czas misji: ":EXEC PRINTSLOW:? STIME
11020       ? :PARAM1$="Jako^&#xe01b;&#xe01f; misji: ":EXEC PRINTSLOW:? 10*PKT DIV PLCNT
11025       PLCNT=%0
11030     ENDIF 
12000   UNTIL NOT PLCNT
12100 ENDPROC 
12200 ------------------------------
12210 PROC ENTERLST
12211   IF PARAM1&#x3e;%0 THEN X=DPEEK($90)+99:Y=DPEEK(560)-%1:FOR PTR=X TO Y:POKE PTR,%0:NEXT PTR
12212   II=USR(CMCPROC,%0,%0,$40)
12215   EXEC OFFPMG:GRAPHICS %0:DPOKE 709,$0A:POKE 712,10:EXEC OFFPMG:POSITION %2,5:? "ENTER """;PARAM1$;""""
12216   IF PARAM1&#x3e;%0 THEN DPOKE DL+4,DPEEK($90):DPOKE 560,DL:DPOKE 711,$60:DPOKE 709,$0A08
12220   POSITION %2,10:? "POKE842,12:CONT"
12225   POSITION %2,%0:POKE 842,13:STOP 
12228   IF PARAM1&#x3e;=%0 THEN II=USR(CMCPROC,PARAM1,%0,%0)
12230 ENDPROC 
12250 ------------------------------
12255 PROC SKAFIKO
12260   PTR=PM256+1024
12265   IF ATM=%1 OR ATM=4 THEN PTR=$06F0
12270   IF ATM=%2 THEN PTR=$06E8
12275   IF ATM=5 THEN PTR=$06F8
12280   MOVE PTR,PM256+1024+68*8,8
12285 ENDPROC 
19999 ------------------------------
20000 PROC HEXNET
20010   REM X,Y,WIDTH,HEIGHT,A
20020   COLOR ASC("&#xe013;"):FOR Y=4 TO 15
20030     PLOT 4,Y:DRAWTO 21,Y
20040   NEXT Y
20045   X=5:Y=%3
20050   FOR I=%1 TO 6:POSITION X,Y:? #6;CHR$(64+I):X=X+%3:NEXT I
20060   X=%3:Y=5
20070   FOR I=%1 TO 4:POSITION X,Y:? #6;I;:Y=Y+%3:NEXT I
20075   X=24:Y=4:COLOR ASC("&#xe013;"):PLOT X,Y:DRAWTO 39,Y:DRAWTO 39,Y+11:DRAWTO X,Y+11
20080   DRAWTO X,Y
20085   PLOT X+%1,Y+5:DRAWTO 39,Y+5:PLOT X+7,Y+5:DRAWTO X+7,Y+10
20090   POSITION %0,%0:KEY$=CHR$(155):? #6;"....";KEY$;"...";KEY$;"..";KEY$;"."
20095   POSITION X+%1,Y+%1:? #6;"..":POSITION X+%1,Y+%2:? #6;"."
20100   POSITION X+%1,Y+6:? #6;"..":POSITION X+%1,Y+7:? #6;"."
20105   POSITION X+%1,Y+8:? #6;"MATKA":POSITION X+%1,Y+9:? #6;"v1.0"
20110   COLOR ASC(":"):PLOT 10,18:DRAWTO 30,18:PLOT 10,17:DRAWTO 30,17
20115   I=USR($067D):POSITION %2,19:? #6;"Radiogram"
20340 ENDPROC 
21000 ------------------------------
21001 PROC EVENT
21004   OK=%0
21005   T=EKSX-%1+(EKSY-%1)*6:T=PEEK(PMPL+10+T+T)
21010   ON RAND(10)+%1 GOSUB 21100,21160,21200,21240,21440,21330,21290,21510,21600,21710
21020   IF NOT OK THEN OK=%1:GOTO 21005
21090 ENDPROC 
21099 ------------------------------
21100 IF T&#x26;%1 AND PEEK(PMPL+7)=4
21103   OK=%1
21105   IF FRS
21110     H=RAND(HUM)+%1:PARAM1=-H:PARAM1$="Aaaa! Ruchome piaski!":? :EXEC CHAT
21115     PTR=OBJ(H):PARAM1=%2:EXEC DEALDAM
21120     ID=H:? :EXEC STATE
21125   ELSE 
21130     PARAM1=5:EXEC ISPRESENT:IF RESULT
21135       PARAM1$="Uwaga na ruchome piaski! Przeprowadz&#xe005; was.":? :EXEC CHAT
21140     ELSE :PARAM1=-100:PARAM1$="Ruchome piaski. Musimy nadlo&#xe01b;&#xe01c;y&#xe01b;&#xe01f; drogi.":? :EXEC CHAT
21142       PARAM1=RAND(%2)+%1:EXEC TIMEON
21145     ENDIF 
21147   ENDIF 
21148 ENDIF 
21149 RETURN 
21158 ------------------------------
21160 IF T&#x26;%2 AND (PEEK(PMPL+6)=%2 OR PEEK(PMPL+6)=%3)
21162   OK=%1
21165   PARAM1=5:EXEC ISPRESENT:IF RESULT
21170     PARAM1$="Uda&#xe01b;&#xe01d;o mi sie znale&#xe01b;&#xe01e;&#xe01b;&#xe01f; troch&#xe005; jadalnych ro^lin (5).":? :EXEC CHAT:ZASEKS=ZASEKS+5
21175   ENDIF 
21177 ENDIF 
21180 RETURN 
21198 ------------------------------
21200 W=PEEK(PMPL+9):IF PEEK(PMPL+7)&#x3c;5
21202   OK=%1
21205   V=%0:IF RAND(%2) AND W&#x3c;8
21215   ELSE :IF W&#x3e;%2 THEN PARAM1$="Spodziewana poprawa pogody. Zasoby lokalne: -":V=-1
21220   ENDIF :IF V THEN POKE PMPL+9,W+V:? PEEK(PMPL+9);
21222 ENDIF 
21225 RETURN 
21238 ------------------------------
21240 IF T&#x26;32 AND ZASEKS
21242   OK=%1
21245   PARAM1=10:EXEC ISPRESENT:IF RESULT
21250     PARAM1$="Piiip. Trzeba zabezpieczy&#xe01b;&#xe01f; prowiant przy wej^ciu do wody.":? :EXEC CHAT
21255   ELSE 
21260     PARAM1=-100:ZASEKS=ZASEKS DIV %2+%1:PARAM1$="Prowiant nam zam&#xe01b;&#xe07f;k&#xe01b;&#xe01d;. Zosta&#xe01b;&#xe01d;o ":? :EXEC CHAT
21265     ? ZASEKS;".";
21270   ENDIF 
21272 ENDIF 
21275 RETURN 
21288 ------------------------------
21290 IF T&#x26;64 AND ROB
21292   OK=%1
21295   ID=RAND(ROB)+%1+HUM:PARAM1=-ID:PARAM1$="Zzzzzz!":? :EXEC CHAT:PAUSE FIF
21300   PTR=OBJ(ID):POKE PTR+%2,%1
21305   PARAM1=HUN:PARAM1$="Niedobrze, chyba dosta&#xe01b;&#xe01d; zwarcia":? :EXEC CHAT
21310 ENDIF 
21315 RETURN 
21328 ------------------------------
21330 IF T&#x26;66
21332   OK=%1
21335   PARAM1=5:EXEC ISPRESENT
21340   IF NOT RESULT OR FRS:M=%1
21345     FOR I=%1 TO OBJCNT
21350       PTR=OBJ(I):TYPE=PEEK(PTR):IF TYPE&#x3c;12 THEN M=I
21355     NEXT I
21357     IF M=OBJCNT THEN RETURN 
21360     ID=RAND(OBJCNT-M)+%1+M:PTR=OBJ(I):TYPE=PEEK(PTR):POKE PTR+%1,%0:POKE PTR+%2,%0
21365     PARAM1$="Gdzie jest ":PARAM1=TYPE:EXEC GETNAME:PARAM1$(LEN(PARAM1$)+%1)=RESULT$:? :EXEC CHAT:? "?!";
21370     PARAM1=12:PARAM1$="Musimy w tych warunkach dok&#xe01b;&#xe01d;adnie pilnowa&#xe01b;&#xe01f; sprz&#xe005;t.":? :EXEC CHAT
21375   ELSE 
21380     PARAM1$="Trudny teren, pilnujmy sprz&#xe005;t.":? :EXEC CHAT
21385   ENDIF 
21390 ENDIF 
21396 RETURN 
21438 ------------------------------
21440 IF PEEK(PMPL+6)=5 AND ROB
21442   OK=%1
21445   R=RAND(ROB)+%1+HUM:PARAM1=-R:PARAM1$="Dzzzz, adzzz...":? :EXEC CHAT:PAUSE FIF
21450   PARAM1=4:EXEC ISPRESENT
21460   IF RESULT
21465     PARAM1$="Kwas w powietrzu uszkodzi&#xe01b;&#xe01d; robota. Potrzebuj&#xe005; godzin&#xe005;.":? :EXEC CHAT:PARAM1=%1:EXEC TIMEON
21470   ELSE 
21475     PARAM1=HUN:PARAM1$="Zepsu&#xe01b;&#xe01d; si&#xe005;. To chyba atmosfera":? :EXEC CHAT:PAUSE FIF
21480     PTR=OBJ(R):POKE PTR+%2,%1:ID=R:EXEC STATE:EXEC BUILDOBJ
21485   ENDIF 
21490 ENDIF 
21495 RETURN 
21510 ------------------------------
21515 IF PEEK(PMPL+5)&#x3e;%2 AND T&#x26;4
21520   OK=%1
21525   H=RAND(HUM)+%1:PARAM1=-H:PARAM1$="Aaaa! Spaaadaaam!":? :EXEC CHAT
21530   IF FRS
21535     PTR=OBJ(H):PARAM1=4:EXEC DEALDAM
21540     ID=H:EXEC STATE:PARAM1=%3:EXEC TIMEON
21545   ELSE 
21550     PARAM1=8:EXEC ISPRESENT
21555     IF RESULT
21560       PARAM1$="Mam ci&#xe005;. Lepiej uwa&#xe01b;&#xe01c;aj.":? :EXEC CHAT
21565     ELSE 
21570       PTR=OBJ(H):ID=%2:EXEC DEALDAM
21575       PARAM1=H:EXEC STATE
21580     ENDIF 
21585   ENDIF 
21587 ENDIF 
21590 RETURN 
21600 ------------------------------
21605 IF PEEK(PMPL+5)=%1 OR (PEEK(PMPL+5)=%2 AND PEEK(PMPL+8))
21607   OK=%1
21610   H=RAND(HUM)+%1:PARAM1=-H:PARAM1$="Odrzuci&#xe01b;&#xe01d;o mnie z powierzchni! &#xe00c;apcie mnie!!":? :EXEC CHAT:PAUSE FIF
21615   IF FRS
21620     PTR=OBJ(H):POKE PTR+%2,%0
21625     PARAM1=12:PARAM1$="Odlecia&#xe01b;&#xe01d; z powierzchni. Stracili^my go.":EXEC CHAT
21630     ID=H:EXEC STATE:POKE PTR+%1,%0:EXEC BUILDOBJ
21640   ELSE 
21645     IF ROB
21650       R=RAND(ROB)+HUM+%1:PARAM1=-R:PARAM1$="Dobra, sprowadzam ci&#xe005; na ziemi&#xe005;":? :EXEC CHAT
21655     ELSE 
21660       PARAM1=-H:PARAM1$="Lec&#xe005; na powierzchnie. Uwaaagaa!!!":? :EXEC CHAT
21665       PTR=OBJ(H):PARAM1=%2:EXEC DEALDAM
21670       ID=H:EXEC STATE:EXEC BUILDOBJ
21675     ENDIF 
21680   ENDIF 
21685 ENDIF 
21690 RETURN 
21710 ------------------------------
21715 IF PEEK(PMPL+7)=%1 AND T&#x26;5
21717   OK=%1
21720   PARAM1=9:EXEC ISPRESENT:R=RESULT
21725   IF FRS OR NOT R
21730     H=RAND(HUM)+%1:PARAM1=-H:PARAM1$="P&#xe005;ka l&#xe01b;&#xe07f;d!!":? :EXEC CHAT:PAUSE FIF
21735     PARAM1=12:PARAM1$="&#xe01a;yjesz?":? :EXEC CHAT:PAUSE FIF:PTR=OBJ(H)
21740     IF T&#x26;4:PARAM1=%3:EXEC DEALDAM:PARAM1=%3:EXEC TIMEON
21745     ELSE :PARAM1=%1:EXEC DEALDAM:ENDIF 
21750   ELSE 
21755     PARAM1=R:IF RAND(%2):PARAM1$="Uwaga na cienki l&#xe01b;&#xe07f;d. Ale mo&#xe01b;&#xe01c;emy i^&#xe01b;&#xe01f; dalej.":? :EXEC CHAT
21760     ELSE :PARAM1$="Cienki l&#xe01b;&#xe07f;d, musimy zwolni&#xe01b;&#xe01f;.":? :EXEC CHAT:PARAM1=%1:EXEC TIMEON:ENDIF 
21765   ENDIF 
21770 ENDIF 
21775 RETURN 
29000 PROC STARSCREEN:ENDPROC 
29001 PROC STARTIME:ENDPROC 
29002 PROC STARSPRITES:ENDPROC 
29003 PROC STIMEON:ENDPROC 
29004 PROC STREP:ENDPROC 
</html>